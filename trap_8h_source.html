<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>uCore-Tutorial-Code-2022A: trap/trap.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">uCore-Tutorial-Code-2022A
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('trap_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">trap.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="trap_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef TRAP_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define TRAP_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;../utils/types.h&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno"><a class="line" href="structtrapframe.html">    6</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtrapframe.html">trapframe</a> {</div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="structtrapframe.html#a2f84ad384d6eb0c5be2287939b992943">    8</a></span>&#160;    <span class="comment">/*   0 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a2f84ad384d6eb0c5be2287939b992943">kernel_satp</a>;</div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="structtrapframe.html#ae272838b3e0fa43ed82d9fa11da0e5fb">   10</a></span>&#160;    <span class="comment">/*   8 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#ae272838b3e0fa43ed82d9fa11da0e5fb">kernel_sp</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="structtrapframe.html#a2d34b6c98236b8612c4bc7541b16d0f3">   12</a></span>&#160;    <span class="comment">/*  16 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a2d34b6c98236b8612c4bc7541b16d0f3">kernel_trap</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="structtrapframe.html#a1651899b4db8923d81b266c294b9daee">   14</a></span>&#160;    <span class="comment">/*  24 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1651899b4db8923d81b266c294b9daee">epc</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="structtrapframe.html#aaa9dbaa7ff0e414281d9598618fa9030">   16</a></span>&#160;    <span class="comment">/*  32 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#aaa9dbaa7ff0e414281d9598618fa9030">kernel_hartid</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="structtrapframe.html#a99ab2f229a2b0ff09ce312d2b834df50">   17</a></span>&#160;    <span class="comment">/*  40 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a99ab2f229a2b0ff09ce312d2b834df50">ra</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="structtrapframe.html#a5eb4ea9b43f8c6b0d2998554998351ef">   18</a></span>&#160;    <span class="comment">/*  48 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a5eb4ea9b43f8c6b0d2998554998351ef">sp</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="structtrapframe.html#a2467519166e49b163e3d321249898c69">   19</a></span>&#160;    <span class="comment">/*  56 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a2467519166e49b163e3d321249898c69">gp</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="structtrapframe.html#a311c2569183da53896d8e73d119e4876">   20</a></span>&#160;    <span class="comment">/*  64 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a311c2569183da53896d8e73d119e4876">tp</a>;</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="structtrapframe.html#a34585a9026370c7f36a71b9fb78aeb16">   21</a></span>&#160;    <span class="comment">/*  72 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a34585a9026370c7f36a71b9fb78aeb16">t0</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="structtrapframe.html#acdd14c192a027769c8fce353c04c5b2d">   22</a></span>&#160;    <span class="comment">/*  80 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#acdd14c192a027769c8fce353c04c5b2d">t1</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="structtrapframe.html#a53fabc3c973fe84a2f4153d65a5cd613">   23</a></span>&#160;    <span class="comment">/*  88 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a53fabc3c973fe84a2f4153d65a5cd613">t2</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="structtrapframe.html#a1d00c64cea3fb318d7629b0f036b064d">   24</a></span>&#160;    <span class="comment">/*  96 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1d00c64cea3fb318d7629b0f036b064d">s0</a>;</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="structtrapframe.html#a166c3d0f5513789271d4856d866b0033">   25</a></span>&#160;    <span class="comment">/* 104 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a166c3d0f5513789271d4856d866b0033">s1</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="structtrapframe.html#a54eff174dca1b4ab4905ed56991c48bb">   26</a></span>&#160;    <span class="comment">/* 112 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a54eff174dca1b4ab4905ed56991c48bb">a0</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="structtrapframe.html#a5a44237c1ddab66c8888bd9c577a8b92">   27</a></span>&#160;    <span class="comment">/* 120 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a5a44237c1ddab66c8888bd9c577a8b92">a1</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="structtrapframe.html#a118ae340249e54e060855257b2a0225f">   28</a></span>&#160;    <span class="comment">/* 128 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a118ae340249e54e060855257b2a0225f">a2</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="structtrapframe.html#a71dceeb2d9320735f131d2c54e102ae7">   29</a></span>&#160;    <span class="comment">/* 136 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a71dceeb2d9320735f131d2c54e102ae7">a3</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="structtrapframe.html#a1f6f3dfdf2a9afa02fc8323884dea787">   30</a></span>&#160;    <span class="comment">/* 144 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1f6f3dfdf2a9afa02fc8323884dea787">a4</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="structtrapframe.html#af5f464419670da43707935423d37a40c">   31</a></span>&#160;    <span class="comment">/* 152 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#af5f464419670da43707935423d37a40c">a5</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="structtrapframe.html#ab9e214330e76eba06ffa5224a8805349">   32</a></span>&#160;    <span class="comment">/* 160 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#ab9e214330e76eba06ffa5224a8805349">a6</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="structtrapframe.html#a1820b226d4c5629352212d2b2b096afe">   33</a></span>&#160;    <span class="comment">/* 168 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1820b226d4c5629352212d2b2b096afe">a7</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="structtrapframe.html#a1eaaaba5d84f852d2d4e547457934a26">   34</a></span>&#160;    <span class="comment">/* 176 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1eaaaba5d84f852d2d4e547457934a26">s2</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="structtrapframe.html#a6fb4758ec014a6db82c9388f0b44fd1c">   35</a></span>&#160;    <span class="comment">/* 184 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a6fb4758ec014a6db82c9388f0b44fd1c">s3</a>;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structtrapframe.html#a33a8e2b055d7f5f0f45b8fe33efee62d">   36</a></span>&#160;    <span class="comment">/* 192 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a33a8e2b055d7f5f0f45b8fe33efee62d">s4</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structtrapframe.html#a8fc34f1feca917d8fe5dfefe6341a104">   37</a></span>&#160;    <span class="comment">/* 200 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a8fc34f1feca917d8fe5dfefe6341a104">s5</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structtrapframe.html#af27c271f54a18e74a2f34cd25ad23280">   38</a></span>&#160;    <span class="comment">/* 208 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#af27c271f54a18e74a2f34cd25ad23280">s6</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structtrapframe.html#a648d45b060b3e373de32b43edd69fc73">   39</a></span>&#160;    <span class="comment">/* 216 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a648d45b060b3e373de32b43edd69fc73">s7</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structtrapframe.html#af151b363c69ffa3dca7e83a351a2708d">   40</a></span>&#160;    <span class="comment">/* 224 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#af151b363c69ffa3dca7e83a351a2708d">s8</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structtrapframe.html#a1708f79c90c197da81e09f8b82705c52">   41</a></span>&#160;    <span class="comment">/* 232 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1708f79c90c197da81e09f8b82705c52">s9</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structtrapframe.html#a3f2e62fbce29ab8f0f9c76c0b6fd1173">   42</a></span>&#160;    <span class="comment">/* 240 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a3f2e62fbce29ab8f0f9c76c0b6fd1173">s10</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structtrapframe.html#aae4668582d1a73d9e5530f84ea894ad8">   43</a></span>&#160;    <span class="comment">/* 248 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#aae4668582d1a73d9e5530f84ea894ad8">s11</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structtrapframe.html#addf00b73ea19bb64fd6f690c8d7ffe7a">   44</a></span>&#160;    <span class="comment">/* 256 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#addf00b73ea19bb64fd6f690c8d7ffe7a">t3</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structtrapframe.html#a6f6a2ca8b551d7f9e4e189389395cedc">   45</a></span>&#160;    <span class="comment">/* 264 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a6f6a2ca8b551d7f9e4e189389395cedc">t4</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structtrapframe.html#ab6ea4f89e8d4401828b6f07953355f89">   46</a></span>&#160;    <span class="comment">/* 272 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#ab6ea4f89e8d4401828b6f07953355f89">t5</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structtrapframe.html#af5bdcdd236d3e2514e832c5f4907837c">   47</a></span>&#160;    <span class="comment">/* 280 */</span> <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#af5bdcdd236d3e2514e832c5f4907837c">t6</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46">   50</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46">Exception</a> {</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a580292303303c1b837210c1428279748">   51</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a580292303303c1b837210c1428279748">InstructionMisaligned</a> = 0,</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aed417e6c7b91feb214eb5a231bdf3257">   52</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aed417e6c7b91feb214eb5a231bdf3257">InstructionAccessFault</a> = 1,</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aaaee319af42a35339117189504ed3647">   53</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aaaee319af42a35339117189504ed3647">IllegalInstruction</a> = 2,</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a81123d611e191bb170882ac422011016">   54</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a81123d611e191bb170882ac422011016">Breakpoint</a> = 3,</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ad1862fe2e6e7e4e026187d2df985d05e">   55</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ad1862fe2e6e7e4e026187d2df985d05e">LoadMisaligned</a> = 4,</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ad818f803490ad59030a719df85aa2f1c">   56</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ad818f803490ad59030a719df85aa2f1c">LoadAccessFault</a> = 5,</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a8f6a69b023ff9feba18f2f1ef23c532a">   57</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a8f6a69b023ff9feba18f2f1ef23c532a">StoreMisaligned</a> = 6,</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a483c14a4fa2c64e12aba07580be289ac">   58</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a483c14a4fa2c64e12aba07580be289ac">StoreAccessFault</a> = 7,</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a06b3311d61385454c83766f7ee4da349">   59</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a06b3311d61385454c83766f7ee4da349">UserEnvCall</a> = 8,</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a3804031c4508a629706347a14a03c28c">   60</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a3804031c4508a629706347a14a03c28c">SupervisorEnvCall</a> = 9,</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aeffb9416f8005838ae53e99b84494b29">   61</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aeffb9416f8005838ae53e99b84494b29">MachineEnvCall</a> = 11,</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aa040d8750037fdaffc6bd79006fcc735">   62</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aa040d8750037fdaffc6bd79006fcc735">InstructionPageFault</a> = 12,</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ab3ae71adb7aaf3006e4e96b048c6d781">   63</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ab3ae71adb7aaf3006e4e96b048c6d781">LoadPageFault</a> = 13,</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46af2a7e7783f7888b6be280dab14a9c188">   64</a></span>&#160;    <a class="code" href="trap_8h.html#a8852f03cd91327c7c725673317d85b46af2a7e7783f7888b6be280dab14a9c188">StorePageFault</a> = 15,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaa">   67</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaa">Interrupt</a> {</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaaca046b1060c502b495d616a7a8d0e518">   68</a></span>&#160;    <a class="code" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaaca046b1060c502b495d616a7a8d0e518">UserSoft</a> = 0,</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa694b3bb7b70a2891d9a0c6d694ce7853">   69</a></span>&#160;    <a class="code" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa694b3bb7b70a2891d9a0c6d694ce7853">SupervisorSoft</a>,</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa7cadd219c0401b3a5f9c5b7591114c4a">   70</a></span>&#160;    <a class="code" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa7cadd219c0401b3a5f9c5b7591114c4a">UserTimer</a> = 4,</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa7ee6cdc5a0c9b98381de9b8cc612c4a3">   71</a></span>&#160;    <a class="code" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa7ee6cdc5a0c9b98381de9b8cc612c4a3">SupervisorTimer</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaafb1ffb20766193b289339bf4aab6b802">   72</a></span>&#160;    <a class="code" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaafb1ffb20766193b289339bf4aab6b802">UserExternal</a> = 8,</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa4583de1d5b73acd12c43416df6a6349b">   73</a></span>&#160;    <a class="code" href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa4583de1d5b73acd12c43416df6a6349b">SupervisorExternal</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;};</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html">   76</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtrap__handler__context.html">trap_handler_context</a></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a561f5d7612fb5c250655a20ffae8dafe">   79</a></span>&#160;    void (*<a class="code" href="structtrap__handler__context.html#a561f5d7612fb5c250655a20ffae8dafe">yield</a>)();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a79b270d658c32d79ed40fee395764c65">   82</a></span>&#160;    int (*<a class="code" href="structtrap__handler__context.html#a79b270d658c32d79ed40fee395764c65">cpuid</a>)();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#aa2a2adbea320888daabb3ec68111f6ae">   85</a></span>&#160;    void (*<a class="code" href="structtrap__handler__context.html#aa2a2adbea320888daabb3ec68111f6ae">set_usertrap</a>)();</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#ade101058bbf3ee934bd0bfe8b45af7a8">   86</a></span>&#160;    void (*<a class="code" href="structtrap__handler__context.html#ade101058bbf3ee934bd0bfe8b45af7a8">set_kerneltrap</a>)();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a6323c0d99db43d2078caf5d35be792f6">   89</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structtrapframe.html">trapframe</a>* (*get_trapframe)();</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#ae3c72b4d7409db28789f5a7151761c1d">   91</a></span>&#160;    <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> (*<a class="code" href="structtrap__handler__context.html#ae3c72b4d7409db28789f5a7151761c1d">get_trapframe_va</a>)();</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a712dbfb95495eaef551d8c5a8da9cd11">   93</a></span>&#160;    <a class="code" href="riscv_8h.html#aabc0f4f29a1508768d880855992b8ba7">pagetable_t</a> (*<a class="code" href="structtrap__handler__context.html#a712dbfb95495eaef551d8c5a8da9cd11">get_satp</a>)();</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a3280f63e6ab69094abadf4e8d37052ef">   95</a></span>&#160;    <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> (*<a class="code" href="structtrap__handler__context.html#a3280f63e6ab69094abadf4e8d37052ef">get_kernel_sp</a>)();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a9ed3b389a4cec6c26df53089b8d086ab">   98</a></span>&#160;    <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> (*<a class="code" href="structtrap__handler__context.html#a9ed3b389a4cec6c26df53089b8d086ab">get_userret</a>)();</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a1dbf56b66aa018dbface0b288c14822c">  100</a></span>&#160;    void (*<a class="code" href="structtrap__handler__context.html#a1dbf56b66aa018dbface0b288c14822c">finish_usertrap</a>)(<span class="keywordtype">int</span> cause);</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#ac7139487d9ef96407f2e1fee22f5c01b">  102</a></span>&#160;    void (*<a class="code" href="structtrap__handler__context.html#ac7139487d9ef96407f2e1fee22f5c01b">error_in_trap</a>)(<span class="keywordtype">int</span> <a class="code" href="virtio__disk_8c.html#a051c9e198ee930358372c407a17e8b78">status</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#af45a07d39dc5515b789e2af21cd5566a">  105</a></span>&#160;    int (*<a class="code" href="structtrap__handler__context.html#af45a07d39dc5515b789e2af21cd5566a">syscall</a>)(<a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a54eff174dca1b4ab4905ed56991c48bb">a0</a>, <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a5a44237c1ddab66c8888bd9c577a8b92">a1</a>, <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a118ae340249e54e060855257b2a0225f">a2</a>, <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a71dceeb2d9320735f131d2c54e102ae7">a3</a>, <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1f6f3dfdf2a9afa02fc8323884dea787">a4</a>, <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#af5f464419670da43707935423d37a40c">a5</a>, <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#ab9e214330e76eba06ffa5224a8805349">a6</a>, <a class="code" href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a> <a class="code" href="structtrapframe.html#a1820b226d4c5629352212d2b2b096afe">a7</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structtrap__handler__context.html#a1a56e2e99660cc40be5dbbe6ed992367">  108</a></span>&#160;    void (*<a class="code" href="structtrap__handler__context.html#a1a56e2e99660cc40be5dbbe6ed992367">super_external_handler</a>)(<span class="keywordtype">int</span> <a class="code" href="structtrap__handler__context.html#a79b270d658c32d79ed40fee395764c65">cpuid</a>);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;};</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keywordtype">void</span> <a class="code" href="trap_8h.html#abc6b4a1e99d8bf04a249c5cd8cc6107f">set_trap</a>(<span class="keyword">struct</span> <a class="code" href="structtrap__handler__context.html">trap_handler_context</a> *<a class="code" href="structtrap__handler__context.html">trap_handler_context</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keywordtype">void</span> <a class="code" href="trap_8h.html#af7af9d3b41281fc03534de3900476b85">usertrapret</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#endif // TRAP_H</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructtrapframe_html_a2467519166e49b163e3d321249898c69"><div class="ttname"><a href="structtrapframe.html#a2467519166e49b163e3d321249898c69">trapframe::gp</a></div><div class="ttdeci">uint64 gp</div><div class="ttdef"><b>Definition:</b> trap.h:19</div></div>
<div class="ttc" id="atrap_8h_html_a137af7bce5ff764f5c0aa4550086deaaa4583de1d5b73acd12c43416df6a6349b"><div class="ttname"><a href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa4583de1d5b73acd12c43416df6a6349b">SupervisorExternal</a></div><div class="ttdeci">@ SupervisorExternal</div><div class="ttdef"><b>Definition:</b> trap.h:73</div></div>
<div class="ttc" id="astructtrapframe_html_ab9e214330e76eba06ffa5224a8805349"><div class="ttname"><a href="structtrapframe.html#ab9e214330e76eba06ffa5224a8805349">trapframe::a6</a></div><div class="ttdeci">uint64 a6</div><div class="ttdef"><b>Definition:</b> trap.h:32</div></div>
<div class="ttc" id="astructtrapframe_html_a5a44237c1ddab66c8888bd9c577a8b92"><div class="ttname"><a href="structtrapframe.html#a5a44237c1ddab66c8888bd9c577a8b92">trapframe::a1</a></div><div class="ttdeci">uint64 a1</div><div class="ttdef"><b>Definition:</b> trap.h:27</div></div>
<div class="ttc" id="astructtrapframe_html_a34585a9026370c7f36a71b9fb78aeb16"><div class="ttname"><a href="structtrapframe.html#a34585a9026370c7f36a71b9fb78aeb16">trapframe::t0</a></div><div class="ttdeci">uint64 t0</div><div class="ttdef"><b>Definition:</b> trap.h:21</div></div>
<div class="ttc" id="astructtrap__handler__context_html_a1dbf56b66aa018dbface0b288c14822c"><div class="ttname"><a href="structtrap__handler__context.html#a1dbf56b66aa018dbface0b288c14822c">trap_handler_context::finish_usertrap</a></div><div class="ttdeci">void(* finish_usertrap)(int cause)</div><div class="ttdoc">在usertrap执行结束后执行，cause是异常编号，这里主要是为了兼容ch2，后面的章节里面只要调用usertrapret即可</div><div class="ttdef"><b>Definition:</b> trap.h:100</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46a580292303303c1b837210c1428279748"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a580292303303c1b837210c1428279748">InstructionMisaligned</a></div><div class="ttdeci">@ InstructionMisaligned</div><div class="ttdef"><b>Definition:</b> trap.h:51</div></div>
<div class="ttc" id="astructtrapframe_html_af5bdcdd236d3e2514e832c5f4907837c"><div class="ttname"><a href="structtrapframe.html#af5bdcdd236d3e2514e832c5f4907837c">trapframe::t6</a></div><div class="ttdeci">uint64 t6</div><div class="ttdef"><b>Definition:</b> trap.h:47</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46a8f6a69b023ff9feba18f2f1ef23c532a"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a8f6a69b023ff9feba18f2f1ef23c532a">StoreMisaligned</a></div><div class="ttdeci">@ StoreMisaligned</div><div class="ttdef"><b>Definition:</b> trap.h:57</div></div>
<div class="ttc" id="astructtrapframe_html_a53fabc3c973fe84a2f4153d65a5cd613"><div class="ttname"><a href="structtrapframe.html#a53fabc3c973fe84a2f4153d65a5cd613">trapframe::t2</a></div><div class="ttdeci">uint64 t2</div><div class="ttdef"><b>Definition:</b> trap.h:23</div></div>
<div class="ttc" id="astructtrapframe_html_a33a8e2b055d7f5f0f45b8fe33efee62d"><div class="ttname"><a href="structtrapframe.html#a33a8e2b055d7f5f0f45b8fe33efee62d">trapframe::s4</a></div><div class="ttdeci">uint64 s4</div><div class="ttdef"><b>Definition:</b> trap.h:36</div></div>
<div class="ttc" id="atrap_8h_html_abc6b4a1e99d8bf04a249c5cd8cc6107f"><div class="ttname"><a href="trap_8h.html#abc6b4a1e99d8bf04a249c5cd8cc6107f">set_trap</a></div><div class="ttdeci">void set_trap(struct trap_handler_context *trap_handler_context)</div><div class="ttdef"><b>Definition:</b> trap.c:6</div></div>
<div class="ttc" id="astructtrapframe_html_a1d00c64cea3fb318d7629b0f036b064d"><div class="ttname"><a href="structtrapframe.html#a1d00c64cea3fb318d7629b0f036b064d">trapframe::s0</a></div><div class="ttdeci">uint64 s0</div><div class="ttdef"><b>Definition:</b> trap.h:24</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46af2a7e7783f7888b6be280dab14a9c188"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46af2a7e7783f7888b6be280dab14a9c188">StorePageFault</a></div><div class="ttdeci">@ StorePageFault</div><div class="ttdef"><b>Definition:</b> trap.h:64</div></div>
<div class="ttc" id="astructtrapframe_html_addf00b73ea19bb64fd6f690c8d7ffe7a"><div class="ttname"><a href="structtrapframe.html#addf00b73ea19bb64fd6f690c8d7ffe7a">trapframe::t3</a></div><div class="ttdeci">uint64 t3</div><div class="ttdef"><b>Definition:</b> trap.h:44</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46aed417e6c7b91feb214eb5a231bdf3257"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aed417e6c7b91feb214eb5a231bdf3257">InstructionAccessFault</a></div><div class="ttdeci">@ InstructionAccessFault</div><div class="ttdef"><b>Definition:</b> trap.h:52</div></div>
<div class="ttc" id="avirtio__disk_8c_html_a051c9e198ee930358372c407a17e8b78"><div class="ttname"><a href="virtio__disk_8c.html#a051c9e198ee930358372c407a17e8b78">status</a></div><div class="ttdeci">char status</div><div class="ttdef"><b>Definition:</b> virtio_disk.c:56</div></div>
<div class="ttc" id="astructtrapframe_html_ab6ea4f89e8d4401828b6f07953355f89"><div class="ttname"><a href="structtrapframe.html#ab6ea4f89e8d4401828b6f07953355f89">trapframe::t5</a></div><div class="ttdeci">uint64 t5</div><div class="ttdef"><b>Definition:</b> trap.h:46</div></div>
<div class="ttc" id="astructtrapframe_html_a118ae340249e54e060855257b2a0225f"><div class="ttname"><a href="structtrapframe.html#a118ae340249e54e060855257b2a0225f">trapframe::a2</a></div><div class="ttdeci">uint64 a2</div><div class="ttdef"><b>Definition:</b> trap.h:28</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46ad1862fe2e6e7e4e026187d2df985d05e"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ad1862fe2e6e7e4e026187d2df985d05e">LoadMisaligned</a></div><div class="ttdeci">@ LoadMisaligned</div><div class="ttdef"><b>Definition:</b> trap.h:55</div></div>
<div class="ttc" id="astructtrap__handler__context_html_a561f5d7612fb5c250655a20ffae8dafe"><div class="ttname"><a href="structtrap__handler__context.html#a561f5d7612fb5c250655a20ffae8dafe">trap_handler_context::yield</a></div><div class="ttdeci">void(* yield)()</div><div class="ttdoc">yield是每个章节自己的，不同的调度策略会调用不同的sched，而ch2里面甚至不需要支持（空函数）</div><div class="ttdef"><b>Definition:</b> trap.h:79</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46a483c14a4fa2c64e12aba07580be289ac"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a483c14a4fa2c64e12aba07580be289ac">StoreAccessFault</a></div><div class="ttdeci">@ StoreAccessFault</div><div class="ttdef"><b>Definition:</b> trap.h:58</div></div>
<div class="ttc" id="astructtrapframe_html_a6fb4758ec014a6db82c9388f0b44fd1c"><div class="ttname"><a href="structtrapframe.html#a6fb4758ec014a6db82c9388f0b44fd1c">trapframe::s3</a></div><div class="ttdeci">uint64 s3</div><div class="ttdef"><b>Definition:</b> trap.h:35</div></div>
<div class="ttc" id="astructtrapframe_html_af27c271f54a18e74a2f34cd25ad23280"><div class="ttname"><a href="structtrapframe.html#af27c271f54a18e74a2f34cd25ad23280">trapframe::s6</a></div><div class="ttdeci">uint64 s6</div><div class="ttdef"><b>Definition:</b> trap.h:38</div></div>
<div class="ttc" id="astructtrap__handler__context_html"><div class="ttname"><a href="structtrap__handler__context.html">trap_handler_context</a></div><div class="ttdef"><b>Definition:</b> trap.h:76</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46aa040d8750037fdaffc6bd79006fcc735"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aa040d8750037fdaffc6bd79006fcc735">InstructionPageFault</a></div><div class="ttdeci">@ InstructionPageFault</div><div class="ttdef"><b>Definition:</b> trap.h:62</div></div>
<div class="ttc" id="astructtrapframe_html_a1708f79c90c197da81e09f8b82705c52"><div class="ttname"><a href="structtrapframe.html#a1708f79c90c197da81e09f8b82705c52">trapframe::s9</a></div><div class="ttdeci">uint64 s9</div><div class="ttdef"><b>Definition:</b> trap.h:41</div></div>
<div class="ttc" id="astructtrapframe_html_a6f6a2ca8b551d7f9e4e189389395cedc"><div class="ttname"><a href="structtrapframe.html#a6f6a2ca8b551d7f9e4e189389395cedc">trapframe::t4</a></div><div class="ttdeci">uint64 t4</div><div class="ttdef"><b>Definition:</b> trap.h:45</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46ab3ae71adb7aaf3006e4e96b048c6d781"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ab3ae71adb7aaf3006e4e96b048c6d781">LoadPageFault</a></div><div class="ttdeci">@ LoadPageFault</div><div class="ttdef"><b>Definition:</b> trap.h:63</div></div>
<div class="ttc" id="astructtrap__handler__context_html_a79b270d658c32d79ed40fee395764c65"><div class="ttname"><a href="structtrap__handler__context.html#a79b270d658c32d79ed40fee395764c65">trap_handler_context::cpuid</a></div><div class="ttdeci">int(* cpuid)()</div><div class="ttdoc">主要用于处理外部中断的时候，获取当前是哪个cpu（发生了外部中断）</div><div class="ttdef"><b>Definition:</b> trap.h:82</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46">Exception</a></div><div class="ttdeci">Exception</div><div class="ttdef"><b>Definition:</b> trap.h:50</div></div>
<div class="ttc" id="astructtrapframe_html_a1f6f3dfdf2a9afa02fc8323884dea787"><div class="ttname"><a href="structtrapframe.html#a1f6f3dfdf2a9afa02fc8323884dea787">trapframe::a4</a></div><div class="ttdeci">uint64 a4</div><div class="ttdef"><b>Definition:</b> trap.h:30</div></div>
<div class="ttc" id="atrap_8h_html_af7af9d3b41281fc03534de3900476b85"><div class="ttname"><a href="trap_8h.html#af7af9d3b41281fc03534de3900476b85">usertrapret</a></div><div class="ttdeci">void usertrapret()</div><div class="ttdoc">return to user space</div><div class="ttdef"><b>Definition:</b> trap.c:100</div></div>
<div class="ttc" id="astructtrapframe_html_a648d45b060b3e373de32b43edd69fc73"><div class="ttname"><a href="structtrapframe.html#a648d45b060b3e373de32b43edd69fc73">trapframe::s7</a></div><div class="ttdeci">uint64 s7</div><div class="ttdef"><b>Definition:</b> trap.h:39</div></div>
<div class="ttc" id="astructtrapframe_html_ae272838b3e0fa43ed82d9fa11da0e5fb"><div class="ttname"><a href="structtrapframe.html#ae272838b3e0fa43ed82d9fa11da0e5fb">trapframe::kernel_sp</a></div><div class="ttdeci">uint64 kernel_sp</div><div class="ttdoc">top of process's kernel stack</div><div class="ttdef"><b>Definition:</b> trap.h:10</div></div>
<div class="ttc" id="astructtrapframe_html_a311c2569183da53896d8e73d119e4876"><div class="ttname"><a href="structtrapframe.html#a311c2569183da53896d8e73d119e4876">trapframe::tp</a></div><div class="ttdeci">uint64 tp</div><div class="ttdef"><b>Definition:</b> trap.h:20</div></div>
<div class="ttc" id="astructtrapframe_html_a2d34b6c98236b8612c4bc7541b16d0f3"><div class="ttname"><a href="structtrapframe.html#a2d34b6c98236b8612c4bc7541b16d0f3">trapframe::kernel_trap</a></div><div class="ttdeci">uint64 kernel_trap</div><div class="ttdoc">usertrap()</div><div class="ttdef"><b>Definition:</b> trap.h:12</div></div>
<div class="ttc" id="astructtrapframe_html_a3f2e62fbce29ab8f0f9c76c0b6fd1173"><div class="ttname"><a href="structtrapframe.html#a3f2e62fbce29ab8f0f9c76c0b6fd1173">trapframe::s10</a></div><div class="ttdeci">uint64 s10</div><div class="ttdef"><b>Definition:</b> trap.h:42</div></div>
<div class="ttc" id="astructtrap__handler__context_html_af45a07d39dc5515b789e2af21cd5566a"><div class="ttname"><a href="structtrap__handler__context.html#af45a07d39dc5515b789e2af21cd5566a">trap_handler_context::syscall</a></div><div class="ttdeci">int(* syscall)(uint64 a0, uint64 a1, uint64 a2, uint64 a3, uint64 a4, uint64 a5, uint64 a6, uint64 a7)</div><div class="ttdoc">用于处理系统调用导致的trap</div><div class="ttdef"><b>Definition:</b> trap.h:105</div></div>
<div class="ttc" id="atrap_8h_html_a137af7bce5ff764f5c0aa4550086deaaa694b3bb7b70a2891d9a0c6d694ce7853"><div class="ttname"><a href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa694b3bb7b70a2891d9a0c6d694ce7853">SupervisorSoft</a></div><div class="ttdeci">@ SupervisorSoft</div><div class="ttdef"><b>Definition:</b> trap.h:69</div></div>
<div class="ttc" id="astructtrapframe_html_a99ab2f229a2b0ff09ce312d2b834df50"><div class="ttname"><a href="structtrapframe.html#a99ab2f229a2b0ff09ce312d2b834df50">trapframe::ra</a></div><div class="ttdeci">uint64 ra</div><div class="ttdef"><b>Definition:</b> trap.h:17</div></div>
<div class="ttc" id="astructtrapframe_html_af5f464419670da43707935423d37a40c"><div class="ttname"><a href="structtrapframe.html#af5f464419670da43707935423d37a40c">trapframe::a5</a></div><div class="ttdeci">uint64 a5</div><div class="ttdef"><b>Definition:</b> trap.h:31</div></div>
<div class="ttc" id="astructtrap__handler__context_html_ade101058bbf3ee934bd0bfe8b45af7a8"><div class="ttname"><a href="structtrap__handler__context.html#ade101058bbf3ee934bd0bfe8b45af7a8">trap_handler_context::set_kerneltrap</a></div><div class="ttdeci">void(* set_kerneltrap)()</div><div class="ttdef"><b>Definition:</b> trap.h:86</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46aeffb9416f8005838ae53e99b84494b29"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aeffb9416f8005838ae53e99b84494b29">MachineEnvCall</a></div><div class="ttdeci">@ MachineEnvCall</div><div class="ttdef"><b>Definition:</b> trap.h:61</div></div>
<div class="ttc" id="astructtrapframe_html_aaa9dbaa7ff0e414281d9598618fa9030"><div class="ttname"><a href="structtrapframe.html#aaa9dbaa7ff0e414281d9598618fa9030">trapframe::kernel_hartid</a></div><div class="ttdeci">uint64 kernel_hartid</div><div class="ttdoc">saved kernel tp</div><div class="ttdef"><b>Definition:</b> trap.h:16</div></div>
<div class="ttc" id="astructtrapframe_html_a5eb4ea9b43f8c6b0d2998554998351ef"><div class="ttname"><a href="structtrapframe.html#a5eb4ea9b43f8c6b0d2998554998351ef">trapframe::sp</a></div><div class="ttdeci">uint64 sp</div><div class="ttdef"><b>Definition:</b> trap.h:18</div></div>
<div class="ttc" id="astructtrap__handler__context_html_a9ed3b389a4cec6c26df53089b8d086ab"><div class="ttname"><a href="structtrap__handler__context.html#a9ed3b389a4cec6c26df53089b8d086ab">trap_handler_context::get_userret</a></div><div class="ttdeci">uint64(* get_userret)()</div><div class="ttdoc">得到userret的虚拟地址（在使用虚存机制时候，它在kernel里面会被映射到特定的位置）</div><div class="ttdef"><b>Definition:</b> trap.h:98</div></div>
<div class="ttc" id="astructtrapframe_html_a1651899b4db8923d81b266c294b9daee"><div class="ttname"><a href="structtrapframe.html#a1651899b4db8923d81b266c294b9daee">trapframe::epc</a></div><div class="ttdeci">uint64 epc</div><div class="ttdoc">saved user program counter</div><div class="ttdef"><b>Definition:</b> trap.h:14</div></div>
<div class="ttc" id="astructtrapframe_html_acdd14c192a027769c8fce353c04c5b2d"><div class="ttname"><a href="structtrapframe.html#acdd14c192a027769c8fce353c04c5b2d">trapframe::t1</a></div><div class="ttdeci">uint64 t1</div><div class="ttdef"><b>Definition:</b> trap.h:22</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46a06b3311d61385454c83766f7ee4da349"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a06b3311d61385454c83766f7ee4da349">UserEnvCall</a></div><div class="ttdeci">@ UserEnvCall</div><div class="ttdef"><b>Definition:</b> trap.h:59</div></div>
<div class="ttc" id="astructtrap__handler__context_html_ac7139487d9ef96407f2e1fee22f5c01b"><div class="ttname"><a href="structtrap__handler__context.html#ac7139487d9ef96407f2e1fee22f5c01b">trap_handler_context::error_in_trap</a></div><div class="ttdeci">void(* error_in_trap)(int status)</div><div class="ttdoc">用于处理当trap处理发生错误时要做的事</div><div class="ttdef"><b>Definition:</b> trap.h:102</div></div>
<div class="ttc" id="astructtrapframe_html_a8fc34f1feca917d8fe5dfefe6341a104"><div class="ttname"><a href="structtrapframe.html#a8fc34f1feca917d8fe5dfefe6341a104">trapframe::s5</a></div><div class="ttdeci">uint64 s5</div><div class="ttdef"><b>Definition:</b> trap.h:37</div></div>
<div class="ttc" id="astructtrapframe_html"><div class="ttname"><a href="structtrapframe.html">trapframe</a></div><div class="ttdef"><b>Definition:</b> trap.h:6</div></div>
<div class="ttc" id="astructtrapframe_html_a2f84ad384d6eb0c5be2287939b992943"><div class="ttname"><a href="structtrapframe.html#a2f84ad384d6eb0c5be2287939b992943">trapframe::kernel_satp</a></div><div class="ttdeci">uint64 kernel_satp</div><div class="ttdoc">kernel page table</div><div class="ttdef"><b>Definition:</b> trap.h:8</div></div>
<div class="ttc" id="astructtrap__handler__context_html_a3280f63e6ab69094abadf4e8d37052ef"><div class="ttname"><a href="structtrap__handler__context.html#a3280f63e6ab69094abadf4e8d37052ef">trap_handler_context::get_kernel_sp</a></div><div class="ttdeci">uint64(* get_kernel_sp)()</div><div class="ttdoc">用于拿到内核栈的栈顶指针</div><div class="ttdef"><b>Definition:</b> trap.h:95</div></div>
<div class="ttc" id="astructtrap__handler__context_html_a1a56e2e99660cc40be5dbbe6ed992367"><div class="ttname"><a href="structtrap__handler__context.html#a1a56e2e99660cc40be5dbbe6ed992367">trap_handler_context::super_external_handler</a></div><div class="ttdeci">void(* super_external_handler)(int cpuid)</div><div class="ttdoc">用于处理非时间中断的一切外部中断，会在文件系统里面用到</div><div class="ttdef"><b>Definition:</b> trap.h:108</div></div>
<div class="ttc" id="astructtrapframe_html_af151b363c69ffa3dca7e83a351a2708d"><div class="ttname"><a href="structtrapframe.html#af151b363c69ffa3dca7e83a351a2708d">trapframe::s8</a></div><div class="ttdeci">uint64 s8</div><div class="ttdef"><b>Definition:</b> trap.h:40</div></div>
<div class="ttc" id="astructtrap__handler__context_html_aa2a2adbea320888daabb3ec68111f6ae"><div class="ttname"><a href="structtrap__handler__context.html#aa2a2adbea320888daabb3ec68111f6ae">trap_handler_context::set_usertrap</a></div><div class="ttdeci">void(* set_usertrap)()</div><div class="ttdoc">set_usertrap和set_kerneltrap分别用于处理在U/S态下发生异常时的异常处理代码入口</div><div class="ttdef"><b>Definition:</b> trap.h:85</div></div>
<div class="ttc" id="astructtrapframe_html_aae4668582d1a73d9e5530f84ea894ad8"><div class="ttname"><a href="structtrapframe.html#aae4668582d1a73d9e5530f84ea894ad8">trapframe::s11</a></div><div class="ttdeci">uint64 s11</div><div class="ttdef"><b>Definition:</b> trap.h:43</div></div>
<div class="ttc" id="astructtrapframe_html_a166c3d0f5513789271d4856d866b0033"><div class="ttname"><a href="structtrapframe.html#a166c3d0f5513789271d4856d866b0033">trapframe::s1</a></div><div class="ttdeci">uint64 s1</div><div class="ttdef"><b>Definition:</b> trap.h:25</div></div>
<div class="ttc" id="astructtrapframe_html_a54eff174dca1b4ab4905ed56991c48bb"><div class="ttname"><a href="structtrapframe.html#a54eff174dca1b4ab4905ed56991c48bb">trapframe::a0</a></div><div class="ttdeci">uint64 a0</div><div class="ttdef"><b>Definition:</b> trap.h:26</div></div>
<div class="ttc" id="anfs_2types_8h_html_a5975ce0896ee5ec5db2f1a411620a51a"><div class="ttname"><a href="nfs_2types_8h.html#a5975ce0896ee5ec5db2f1a411620a51a">uint64</a></div><div class="ttdeci">unsigned long uint64</div><div class="ttdef"><b>Definition:</b> types.h:10</div></div>
<div class="ttc" id="astructtrap__handler__context_html_ae3c72b4d7409db28789f5a7151761c1d"><div class="ttname"><a href="structtrap__handler__context.html#ae3c72b4d7409db28789f5a7151761c1d">trap_handler_context::get_trapframe_va</a></div><div class="ttdeci">uint64(* get_trapframe_va)()</div><div class="ttdoc">用于得到当前正在考虑的trapframe的虚拟地址</div><div class="ttdef"><b>Definition:</b> trap.h:91</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46ad818f803490ad59030a719df85aa2f1c"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46ad818f803490ad59030a719df85aa2f1c">LoadAccessFault</a></div><div class="ttdeci">@ LoadAccessFault</div><div class="ttdef"><b>Definition:</b> trap.h:56</div></div>
<div class="ttc" id="atrap_8h_html_a137af7bce5ff764f5c0aa4550086deaa"><div class="ttname"><a href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaa">Interrupt</a></div><div class="ttdeci">Interrupt</div><div class="ttdef"><b>Definition:</b> trap.h:67</div></div>
<div class="ttc" id="atrap_8h_html_a137af7bce5ff764f5c0aa4550086deaaa7cadd219c0401b3a5f9c5b7591114c4a"><div class="ttname"><a href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa7cadd219c0401b3a5f9c5b7591114c4a">UserTimer</a></div><div class="ttdeci">@ UserTimer</div><div class="ttdef"><b>Definition:</b> trap.h:70</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46aaaee319af42a35339117189504ed3647"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46aaaee319af42a35339117189504ed3647">IllegalInstruction</a></div><div class="ttdeci">@ IllegalInstruction</div><div class="ttdef"><b>Definition:</b> trap.h:53</div></div>
<div class="ttc" id="atrap_8h_html_a137af7bce5ff764f5c0aa4550086deaaaca046b1060c502b495d616a7a8d0e518"><div class="ttname"><a href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaaca046b1060c502b495d616a7a8d0e518">UserSoft</a></div><div class="ttdeci">@ UserSoft</div><div class="ttdef"><b>Definition:</b> trap.h:68</div></div>
<div class="ttc" id="astructtrapframe_html_a1820b226d4c5629352212d2b2b096afe"><div class="ttname"><a href="structtrapframe.html#a1820b226d4c5629352212d2b2b096afe">trapframe::a7</a></div><div class="ttdeci">uint64 a7</div><div class="ttdef"><b>Definition:</b> trap.h:33</div></div>
<div class="ttc" id="atrap_8h_html_a137af7bce5ff764f5c0aa4550086deaaa7ee6cdc5a0c9b98381de9b8cc612c4a3"><div class="ttname"><a href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaa7ee6cdc5a0c9b98381de9b8cc612c4a3">SupervisorTimer</a></div><div class="ttdeci">@ SupervisorTimer</div><div class="ttdef"><b>Definition:</b> trap.h:71</div></div>
<div class="ttc" id="atrap_8h_html_a137af7bce5ff764f5c0aa4550086deaaafb1ffb20766193b289339bf4aab6b802"><div class="ttname"><a href="trap_8h.html#a137af7bce5ff764f5c0aa4550086deaaafb1ffb20766193b289339bf4aab6b802">UserExternal</a></div><div class="ttdeci">@ UserExternal</div><div class="ttdef"><b>Definition:</b> trap.h:72</div></div>
<div class="ttc" id="astructtrapframe_html_a71dceeb2d9320735f131d2c54e102ae7"><div class="ttname"><a href="structtrapframe.html#a71dceeb2d9320735f131d2c54e102ae7">trapframe::a3</a></div><div class="ttdeci">uint64 a3</div><div class="ttdef"><b>Definition:</b> trap.h:29</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46a81123d611e191bb170882ac422011016"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a81123d611e191bb170882ac422011016">Breakpoint</a></div><div class="ttdeci">@ Breakpoint</div><div class="ttdef"><b>Definition:</b> trap.h:54</div></div>
<div class="ttc" id="atrap_8h_html_a8852f03cd91327c7c725673317d85b46a3804031c4508a629706347a14a03c28c"><div class="ttname"><a href="trap_8h.html#a8852f03cd91327c7c725673317d85b46a3804031c4508a629706347a14a03c28c">SupervisorEnvCall</a></div><div class="ttdeci">@ SupervisorEnvCall</div><div class="ttdef"><b>Definition:</b> trap.h:60</div></div>
<div class="ttc" id="ariscv_8h_html_aabc0f4f29a1508768d880855992b8ba7"><div class="ttname"><a href="riscv_8h.html#aabc0f4f29a1508768d880855992b8ba7">pagetable_t</a></div><div class="ttdeci">uint64 * pagetable_t</div><div class="ttdef"><b>Definition:</b> riscv.h:322</div></div>
<div class="ttc" id="astructtrap__handler__context_html_a712dbfb95495eaef551d8c5a8da9cd11"><div class="ttname"><a href="structtrap__handler__context.html#a712dbfb95495eaef551d8c5a8da9cd11">trap_handler_context::get_satp</a></div><div class="ttdeci">pagetable_t(* get_satp)()</div><div class="ttdoc">用于得到页表的地址</div><div class="ttdef"><b>Definition:</b> trap.h:93</div></div>
<div class="ttc" id="astructtrapframe_html_a1eaaaba5d84f852d2d4e547457934a26"><div class="ttname"><a href="structtrapframe.html#a1eaaaba5d84f852d2d4e547457934a26">trapframe::s2</a></div><div class="ttdeci">uint64 s2</div><div class="ttdef"><b>Definition:</b> trap.h:34</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9307fb714a15d92bd184c2e3f9de7e6f.html">trap</a></li><li class="navelem"><a class="el" href="trap_8h.html">trap.h</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
